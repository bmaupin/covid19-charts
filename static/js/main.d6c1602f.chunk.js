(this["webpackJsonpcovid19-charts"]=this["webpackJsonpcovid19-charts"]||[]).push([[0],{125:function(t,e,r){},132:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(6),i=r.n(o),c=(r(98),r(135)),u=r(15);var s,l,p=function(){return a.a.createElement("header",null,a.a.createElement(c.c,{className:"bp3-dark"},a.a.createElement(c.c.Group,{align:u.a.LEFT},a.a.createElement(c.c.Heading,null,"COVID-19 Charts")),a.a.createElement(c.c.Group,{align:u.a.RIGHT},a.a.createElement("a",{href:"https://github.com/bmaupin/covid19-charts"},a.a.createElement(c.a,{className:"bp3-minimal",icon:"git-repo"})))))},d=r(10),m=(r(125),r(8)),f=r.n(m),h=r(12),v=r(39),y=r(40),b=r(41);!function(t){t.Confirmed="confirmed",t.Deaths="deaths",t.Recovered="recovered"}(s||(s={})),function(t){t[t.Top=0]="Top"}(l||(l={}));var g=function(){function t(){Object(y.a)(this,t)}return Object(b.a)(t,null,[{key:"fetchData",value:function(){var t=Object(h.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://pomber.github.io/covid19/timeseries.json");case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(h.a)(f.a.mark((function e(r,n,a,o){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next=3;break;case 3:return e.next=5,t.getTopChartData(n,a,o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"getTopChartData",value:function(){var e=Object(h.a)(f.a.mark((function e(r,n,a){var o,i,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData();case 2:return o=e.sent,e.next=5,t.getTopChartCountries(o,r,n);case 5:return i=e.sent,c=t.formatDataForChart(o,i,r,a),console.log(o),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"formatDataForChart",value:function(t,e,r,n){var a=[],o=!0,i=!1,c=void 0;try{for(var u,s=e[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var l=u.value,p={};p.label=l,p.data=[];var d=!0,m=!1,f=void 0;try{for(var h,v=t[l].slice(t[l].length-n,t[l].length)[Symbol.iterator]();!(d=(h=v.next()).done);d=!0){var y=h.value;p.data.push({x:new Date(y.date),y:y[r]})}}catch(b){m=!0,f=b}finally{try{d||null==v.return||v.return()}finally{if(m)throw f}}a.push(p)}}catch(b){i=!0,c=b}finally{try{o||null==s.return||s.return()}finally{if(i)throw c}}return a}},{key:"getTopChartCountries",value:function(){var t=Object(h.a)(f.a.mark((function t(e,r,n){var a,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.Canada[e.Canada.length-1].date,o=Object.keys(e).sort((function(t,n){return e[n].find((function(t){return t.date===a}))[r]-e[t].find((function(t){return t.date===a}))[r]})),t.abrupt("return",o.slice(0,n));case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()}]),t}(),x=r(24),w=r(17),A=r(16),k={elementType:["line","area","bar","bubble"],primaryAxisType:["linear","time","log","ordinal"],secondaryAxisType:["linear","time","log","ordinal"],primaryAxisPosition:["top","left","right","bottom"],secondaryAxisPosition:["top","left","right","bottom"],secondaryAxisStack:[!0,!1],primaryAxisShow:[!0,!1],secondaryAxisShow:[!0,!1],grouping:["single","series","primary","secondary"],tooltipAnchor:["closest","top","bottom","left","right","center","gridTop","gridBottom","gridLeft","gridRight","gridCenter","pointer"],tooltipAlign:["auto","top","bottom","left","right","topLeft","topRight","bottomLeft","bottomRight","center"],snapCursor:[!0,!1]},O=Object.keys(k);function E(t,e,r,n){return Object(x.a)(new Array(e||Math.max(Math.round(5*Math.random()),1))).map((function(e,a){return function(t,e,r,n){var a=new Date;a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);var o=n;return{label:"Series ".concat(t+1),datums:Object(x.a)(new Array(o)).map((function(t,n){var o=0+n;"ordinal"===e&&(o="Ordinal Group ".concat(o)),"time"===e&&(o=new Date(a.getTime()+18e5*n)),"linear"===e&&(o=Math.random()<0?null:0+Math.round(100*Math.random()));return{x:o,y:Math.random()<0?null:0+Math.round(100*Math.random()),r:r?20-Math.floor(Math.log(Math.random()*(Math.pow(1.1,20)-2)+2)/Math.log(1.1)):void 0}}))}}(a,t,r,n)}))}var j=function(t){var e=Object(n.useState)(null),r=Object(d.a)(e,2),o=r[0],i=r[1],c=Object(n.useState)(!1),u=Object(d.a)(c,2),s=u[0],p=u[1],m=function(t){var e=t.series,r=void 0===e?0:e,n=t.useR,o=void 0!==n&&n,i=t.show,c=void 0===i?[]:i,u=t.count,s=void 0===u?1:u,l=t.resizable,p=void 0===l||l,m=t.canRandomize,f=void 0===m||m,h=t.dataType,v=void 0===h?"time":h,y=t.elementType,b=void 0===y?"line":y,g=t.primaryAxisType,x=void 0===g?"time":g,j=t.secondaryAxisType,C=void 0===j?"linear":j,T=t.primaryAxisPosition,S=void 0===T?"bottom":T,M=t.secondaryAxisPosition,D=void 0===M?"left":M,R=t.primaryAxisStack,P=void 0!==R&&R,z=t.secondaryAxisStack,G=void 0===z||z,N=t.primaryAxisShow,B=void 0===N||N,L=t.secondaryAxisShow,F=void 0===L||L,I=t.tooltipAnchor,H=void 0===I?"closest":I,J=t.tooltipAlign,W=void 0===J?"auto":J,V=t.grouping,$=void 0===V?"primary":V,q=t.snapCursor,K=void 0===q||q,Q=t.datums,U=void 0===Q?10:Q,X=a.a.useState({count:s,resizable:p,canRandomize:f,dataType:v,elementType:b,primaryAxisType:x,secondaryAxisType:C,primaryAxisPosition:S,secondaryAxisPosition:D,primaryAxisStack:P,secondaryAxisStack:G,primaryAxisShow:B,secondaryAxisShow:F,tooltipAnchor:H,tooltipAlign:W,grouping:$,snapCursor:K,datums:U,data:E(v,r,o,U)}),Y=Object(d.a)(X,2),Z=Y[0],_=Y[1];a.a.useEffect((function(){_((function(t){return Object(A.a)({},t,{data:E(v,r,o,U)})}))}),[s,v,U,r,o]);var tt=O.filter((function(t){return c.indexOf(t)>-1})).map((function(t){return a.a.createElement("div",{key:t},t,": \xa0",a.a.createElement("select",{value:Z[t],onChange:function(e){var r=e.target.value;return _((function(e){return Object(A.a)({},e,Object(w.a)({},t,"boolean"===typeof k[t][0]?"true"===r:r))}))}},k[t].map((function(t){return a.a.createElement("option",{value:t,key:t.toString()},t.toString())}))),a.a.createElement("br",null))}));return Object(A.a)({},Z,{randomizeData:function(){return _((function(t){return Object(A.a)({},t,{data:E(v,r,o,U)})}))},Options:tt})}({series:10});return console.log("testData"),console.log(m),Object(n.useEffect)((function(){function e(){return(e=Object(h.a)(f.a.mark((function e(){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getData(l.Top,t.chartMetric,10,10);case 2:r=e.sent,i(r),p(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.chartMetric]),a.a.createElement("div",{style:{width:"800px",height:"600px"}},s&&a.a.createElement(v.Chart,{data:o,axes:[{primary:!0,type:"time",position:"bottom"},{type:"linear",position:"left"}],tooltip:!0}))};var C=function(){var t=Object(n.useState)(s.Confirmed),e=Object(d.a)(t,2),r=e[0],o=e[1];function i(t){o(t)}return a.a.createElement("div",{className:"Main"},a.a.createElement(c.b,{className:"ButtonGroup"},a.a.createElement(c.a,{active:r===s.Confirmed,onClick:function(){return i(s.Confirmed)}},"Confirmed"),a.a.createElement(c.a,{active:r===s.Deaths,onClick:function(){return i(s.Deaths)}},"Deaths"),a.a.createElement(c.a,{active:r===s.Recovered,onClick:function(){return i(s.Recovered)}},"Recovered")),a.a.createElement(j,{chartMetric:r}))};var T=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(p,null),a.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(131);i.a.render(a.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},93:function(t,e,r){t.exports=r(132)},98:function(t,e,r){}},[[93,1,2]]]);
//# sourceMappingURL=main.d6c1602f.chunk.js.map