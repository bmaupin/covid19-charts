(this["webpackJsonpcovid19-charts"]=this["webpackJsonpcovid19-charts"]||[]).push([[0],{125:function(e,t,n){},132:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(6),i=n.n(o),c=(n(98),n(135)),u=n(15);var s,l,d=function(){return a.a.createElement("header",null,a.a.createElement(c.c,{className:"bp3-dark"},a.a.createElement(c.c.Group,{align:u.a.LEFT},a.a.createElement(c.c.Heading,null,"COVID-19 Trends")),a.a.createElement(c.c.Group,{align:u.a.RIGHT},a.a.createElement("a",{href:"https://github.com/bmaupin/covid19-trends"},a.a.createElement(c.a,{className:"bp3-minimal",icon:"git-repo"})))))},p=n(10),m=(n(125),n(8)),f=n.n(m),h=n(12),v=n(39),y=n(40),b=n(41);!function(e){e.Confirmed="confirmed",e.Deaths="deaths",e.Recovered="recovered"}(s||(s={})),function(e){e[e.Top=0]="Top"}(l||(l={}));var g=function(){function e(){Object(y.a)(this,e)}return Object(b.a)(e,null,[{key:"fetchData",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pomber.github.io/covid19/timeseries.json");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var t=Object(h.a)(f.a.mark((function t(n,r,a,o){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n,t.next=3;break;case 3:return t.next=5,e.getTopChartData(r,a,o);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"getTopChartData",value:function(){var t=Object(h.a)(f.a.mark((function t(n,r,a){var o,i,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchData();case 2:return o=t.sent,t.next=5,e.getTopChartCountries(o,n,r);case 5:return i=t.sent,c=e.formatDataForChart(o,i,n,a),console.log(o),t.abrupt("return",c);case 9:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"formatDataForChart",value:function(e,t,n,r){var a=[],o=!0,i=!1,c=void 0;try{for(var u,s=t[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var l=u.value,d={};d.label=l,d.data=[];var p=!0,m=!1,f=void 0;try{for(var h,v=e[l].slice(e[l].length-r,e[l].length)[Symbol.iterator]();!(p=(h=v.next()).done);p=!0){var y=h.value;d.data.push({x:new Date(y.date),y:y[n]})}}catch(b){m=!0,f=b}finally{try{p||null==v.return||v.return()}finally{if(m)throw f}}a.push(d)}}catch(b){i=!0,c=b}finally{try{o||null==s.return||s.return()}finally{if(i)throw c}}return a}},{key:"getTopChartCountries",value:function(){var e=Object(h.a)(f.a.mark((function e(t,n,r){var a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.Canada[t.Canada.length-1].date,o=Object.keys(t).sort((function(e,r){return t[r].find((function(e){return e.date===a}))[n]-t[e].find((function(e){return e.date===a}))[n]})),e.abrupt("return",o.slice(0,r));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}(),x=n(24),w=n(17),A=n(16),k={elementType:["line","area","bar","bubble"],primaryAxisType:["linear","time","log","ordinal"],secondaryAxisType:["linear","time","log","ordinal"],primaryAxisPosition:["top","left","right","bottom"],secondaryAxisPosition:["top","left","right","bottom"],secondaryAxisStack:[!0,!1],primaryAxisShow:[!0,!1],secondaryAxisShow:[!0,!1],grouping:["single","series","primary","secondary"],tooltipAnchor:["closest","top","bottom","left","right","center","gridTop","gridBottom","gridLeft","gridRight","gridCenter","pointer"],tooltipAlign:["auto","top","bottom","left","right","topLeft","topRight","bottomLeft","bottomRight","center"],snapCursor:[!0,!1]},O=Object.keys(k);function E(e,t,n,r){return Object(x.a)(new Array(t||Math.max(Math.round(5*Math.random()),1))).map((function(t,a){return function(e,t,n,r){var a=new Date;a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0);var o=r;return{label:"Series ".concat(e+1),datums:Object(x.a)(new Array(o)).map((function(e,r){var o=0+r;"ordinal"===t&&(o="Ordinal Group ".concat(o)),"time"===t&&(o=new Date(a.getTime()+18e5*r)),"linear"===t&&(o=Math.random()<0?null:0+Math.round(100*Math.random()));return{x:o,y:Math.random()<0?null:0+Math.round(100*Math.random()),r:n?20-Math.floor(Math.log(Math.random()*(Math.pow(1.1,20)-2)+2)/Math.log(1.1)):void 0}}))}}(a,e,n,r)}))}var j=function(e){var t=Object(r.useState)(null),n=Object(p.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)(!1),u=Object(p.a)(c,2),s=u[0],d=u[1],m=function(e){var t=e.series,n=void 0===t?0:t,r=e.useR,o=void 0!==r&&r,i=e.show,c=void 0===i?[]:i,u=e.count,s=void 0===u?1:u,l=e.resizable,d=void 0===l||l,m=e.canRandomize,f=void 0===m||m,h=e.dataType,v=void 0===h?"time":h,y=e.elementType,b=void 0===y?"line":y,g=e.primaryAxisType,x=void 0===g?"time":g,j=e.secondaryAxisType,C=void 0===j?"linear":j,T=e.primaryAxisPosition,S=void 0===T?"bottom":T,M=e.secondaryAxisPosition,D=void 0===M?"left":M,R=e.primaryAxisStack,P=void 0!==R&&R,z=e.secondaryAxisStack,G=void 0===z||z,N=e.primaryAxisShow,B=void 0===N||N,L=e.secondaryAxisShow,F=void 0===L||L,I=e.tooltipAnchor,H=void 0===I?"closest":I,J=e.tooltipAlign,W=void 0===J?"auto":J,V=e.grouping,$=void 0===V?"primary":V,q=e.snapCursor,K=void 0===q||q,Q=e.datums,U=void 0===Q?10:Q,X=a.a.useState({count:s,resizable:d,canRandomize:f,dataType:v,elementType:b,primaryAxisType:x,secondaryAxisType:C,primaryAxisPosition:S,secondaryAxisPosition:D,primaryAxisStack:P,secondaryAxisStack:G,primaryAxisShow:B,secondaryAxisShow:F,tooltipAnchor:H,tooltipAlign:W,grouping:$,snapCursor:K,datums:U,data:E(v,n,o,U)}),Y=Object(p.a)(X,2),Z=Y[0],_=Y[1];a.a.useEffect((function(){_((function(e){return Object(A.a)({},e,{data:E(v,n,o,U)})}))}),[s,v,U,n,o]);var ee=O.filter((function(e){return c.indexOf(e)>-1})).map((function(e){return a.a.createElement("div",{key:e},e,": \xa0",a.a.createElement("select",{value:Z[e],onChange:function(t){var n=t.target.value;return _((function(t){return Object(A.a)({},t,Object(w.a)({},e,"boolean"===typeof k[e][0]?"true"===n:n))}))}},k[e].map((function(e){return a.a.createElement("option",{value:e,key:e.toString()},e.toString())}))),a.a.createElement("br",null))}));return Object(A.a)({},Z,{randomizeData:function(){return _((function(e){return Object(A.a)({},e,{data:E(v,n,o,U)})}))},Options:ee})}({series:10});return console.log("testData"),console.log(m),Object(r.useEffect)((function(){function t(){return(t=Object(h.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.getData(l.Top,e.chartMetric,10,10);case 2:n=t.sent,i(n),d(!0);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.chartMetric]),a.a.createElement("div",{style:{width:"800px",height:"600px"}},s&&a.a.createElement(v.Chart,{data:o,axes:[{primary:!0,type:"time",position:"bottom"},{type:"linear",position:"left"}],tooltip:!0}))};var C=function(){var e=Object(r.useState)(s.Confirmed),t=Object(p.a)(e,2),n=t[0],o=t[1];function i(e){o(e)}return a.a.createElement("div",{className:"Main"},a.a.createElement(c.b,{className:"ButtonGroup"},a.a.createElement(c.a,{active:n===s.Confirmed,onClick:function(){return i(s.Confirmed)}},"Confirmed"),a.a.createElement(c.a,{active:n===s.Deaths,onClick:function(){return i(s.Deaths)}},"Deaths"),a.a.createElement(c.a,{active:n===s.Recovered,onClick:function(){return i(s.Recovered)}},"Recovered")),a.a.createElement(j,{chartMetric:n}))};var T=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(d,null),a.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(131);i.a.render(a.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},93:function(e,t,n){e.exports=n(132)},98:function(e,t,n){}},[[93,1,2]]]);
//# sourceMappingURL=main.5afb5d97.chunk.js.map