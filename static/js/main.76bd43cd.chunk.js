(this["webpackJsonpcovid19-charts"]=this["webpackJsonpcovid19-charts"]||[]).push([[0],{123:function(a,e,t){},129:function(a,e,t){},131:function(a,e,t){"use strict";t.r(e);var n=t(0),r=t.n(n),i=t(6),o=t.n(i),c=(t(95),t(134)),u=t(15);t(96);var l,F,s,d=function(){var a=r.a.createElement("span",{className:"bp3-icon"},r.a.createElement("svg",null,r.a.createElement("path",{d:"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z"})));return r.a.createElement("header",null,r.a.createElement(c.c,{className:"bp3-dark"},r.a.createElement(c.c.Group,{align:u.a.LEFT},r.a.createElement(c.c.Heading,null,"COVID-19 Trends")),r.a.createElement(c.c.Group,{align:u.a.RIGHT},r.a.createElement("a",{href:"https://github.com/bmaupin/covid19-trends#readme"},r.a.createElement(c.a,{className:"HeaderButton bp3-minimal",icon:"help"})),r.a.createElement("a",{href:"https://github.com/bmaupin/covid19-trends"},r.a.createElement(c.a,{className:"HeaderButton bp3-minimal",icon:a})))))},h=t(13),m=(t(123),t(8)),E=t.n(m),v=t(12),f=t(36),C=(t(129),t(37)),A=t(38),D={China:"#FF1744",Italy:"#3D5AFE",US:"#1DE9B6",Spain:"#FFEA00",Iran:"#F50057",France:"#2979FF",Switzerland:"#00E676","United Kingdom":"#FFC400","Korea, South":"#D500F9",Netherlands:"#00B0FF",Austria:"#76FF03",Belgium:"#FF9100",Canada:"#651FFF",Norway:"#00E5FF",Portugal:"#C6FF00",Brazil:"#FF3D00",Sweden:"#D50000",Turkey:"#304FFE",Israel:"#00BFA5",Australia:"#FFD600",Denmark:"#C51162",Malaysia:"#2962FF",Czechia:"#00C853",Ireland:"#FFAB00",Luxembourg:"#AA00FF",Japan:"#0091EA",Ecuador:"#64DD17",Chile:"#FF6D00",Pakistan:"#6200EA",Poland:"#00B8D4",Thailand:"#AEEA00",Romania:"#DD2C00","Saudi Arabia":"#FF5252",Finland:"#536DFE",Greece:"#64FFDA",Indonesia:"#FFFF00",Iceland:"#FF4081","Diamond Princess":"#448AFF","South Africa":"#69F0AE",Russia:"#FFD740",India:"#E040FB",Philippines:"#40C4FF",Singapore:"#B2FF59",Qatar:"#FFAB40",Slovenia:"#7C4DFF",Peru:"#18FFFF",Colombia:"#EEFF41",Egypt:"#FF6E40",Panama:"#FF8A80",Croatia:"#8C9EFF",Bahrain:"#A7FFEB",Mexico:"#FFFF8D",Estonia:"#FF80AB","Dominican Republic":"#82B1FF",Argentina:"#B9F6CA",Serbia:"#FFE57F",Iraq:"#EA80FC",Lebanon:"#80D8FF","United Arab Emirates":"#CCFF90",Algeria:"#FFD180",Lithuania:"#B388FF",Armenia:"#84FFFF",Bulgaria:"#F4FF81","Taiwan*":"#FF9E80",Hungary:"#F44336",Morocco:"#3F51B5",Latvia:"#009688",Slovakia:"#FFEB3B","San Marino":"#795548","New Zealand":"#E91E63","Costa Rica":"#2196F3",Kuwait:"#4CAF50",Uruguay:"#FFC107",Andorra:"#9E9E9E","North Macedonia":"#9C27B0","Bosnia and Herzegovina":"#03A9F4",Tunisia:"#8BC34A",Jordan:"#FF9800",Moldova:"#673AB7",Albania:"#00BCD4","Burkina Faso":"#CDDC39",Ukraine:"#FF5722",Vietnam:"#B71C1C",Cyprus:"#1A237E",Malta:"#004D40",Brunei:"#F57F17","Sri Lanka":"#3E2723",Oman:"#880E4F",Senegal:"#0D47A1",Cambodia:"#1B5E20",Azerbaijan:"#FF6F00",Ghana:"#212121",Venezuela:"#4A148C",Belarus:"#01579B",Afghanistan:"#33691E",Kazakhstan:"#E65100","Cote d'Ivoire":"#311B92",Cameroon:"#006064",Georgia:"#827717","Trinidad and Tobago":"#BF360C",Uzbekistan:"#EF5350",Cuba:"#5C6BC0",Montenegro:"#26A69A",Liechtenstein:"#FFEE58",Nigeria:"#8D6E63","Congo (Kinshasa)":"#EC407A",Mauritius:"#42A5F5",Kyrgyzstan:"#66BB6A",Rwanda:"#FFCA28",Bangladesh:"#BDBDBD",Paraguay:"#AB47BC",Honduras:"#29B6F6",Bolivia:"#9CCC65",Monaco:"#FFA726",Kenya:"#7E57C2",Jamaica:"#26C6DA",Guatemala:"#D4E157",Togo:"#FF7043",Madagascar:"#C62828",Barbados:"#283593",Uganda:"#00695C",Maldives:"#F9A825",Ethiopia:"#4E342E",Tanzania:"#AD1457",Zambia:"#1565C0",Djibouti:"#2E7D32",Mongolia:"#FF8F00","El Salvador":"#424242","Equatorial Guinea":"#6A1B9A",Haiti:"#0277BD",Suriname:"#558B2F",Namibia:"#EF6C00",Niger:"#4527A0",Seychelles:"#00838F",Dominica:"#9E9D24",Benin:"#D84315",Gabon:"#E57373",Bahamas:"#7986CB",Fiji:"#4DB6AC",Guyana:"#FFF176",Mozambique:"#A1887F",Syria:"#F06292","Cabo Verde":"#64B5F6","Congo (Brazzaville)":"#81C784",Eritrea:"#FFD54F",Eswatini:"#E0E0E0",Guinea:"#BA68C8","Holy See":"#4FC3F7",Angola:"#AED581","Antigua and Barbuda":"#FFB74D","Central African Republic":"#9575CD",Chad:"#4DD0E1",Gambia:"#DCE775",Liberia:"#FF8A65",Nepal:"#D32F2F","Saint Lucia":"#303F9F",Sudan:"#00796B",Zimbabwe:"#FBC02D",Laos:"#5D4037",Bhutan:"#C2185B",Mauritania:"#1976D2",Nicaragua:"#388E3C",Belize:"#FFA000","Guinea-Bissau":"#616161",Mali:"#7B1FA2","Saint Kitts and Nevis":"#0288D1","Papua New Guinea":"#689F38","Saint Vincent and the Grenadines":"#F57C00",Somalia:"#512DA8",Grenada:"#0097A7","Timor-Leste":"#AFB42B",Libya:"#E64A19","West Bank and Gaza":"#EF9A9A"};!function(a){a[a.Daily=1]="Daily",a[a.Weekly=7]="Weekly",a[a.Monthly=30]="Monthly"}(l||(l={})),function(a){a.Active="active",a.Confirmed="confirmed",a.Deaths="deaths",a.Recovered="recovered"}(F||(F={})),function(a){a[a.Top=0]="Top"}(s||(s={}));var p=function(){function a(){Object(C.a)(this,a)}return Object(A.a)(a,null,[{key:"getData",value:function(){var a=Object(v.a)(E.a.mark((function a(e,t,n,r,i){return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.t0=e,a.next=3;break;case 3:return a.next=5,this.getTopChartData(t,n,r,i);case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}),a,this)})));return function(e,t,n,r,i){return a.apply(this,arguments)}}()},{key:"getTopChartData",value:function(){var a=Object(v.a)(E.a.mark((function a(e,t,n,r){var i,o,c,u;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.fetchData();case 2:return i=a.sent,o=this.getLatestDateWithData(i,e),c=this.getTopChartCountries(i,e,o,n),u=this.formatDataForChart(i,c,e,t,o,r),console.log("apiData: ",i),a.abrupt("return",u);case 8:case"end":return a.stop()}}),a,this)})));return function(e,t,n,r){return a.apply(this,arguments)}}()},{key:"fetchData",value:function(){var a=Object(v.a)(E.a.mark((function a(){var e;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://pomber.github.io/covid19/timeseries.json");case 2:return e=a.sent,a.abrupt("return",e.json());case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()},{key:"getLatestDateWithData",value:function(a,e){e===F.Active&&(e=F.Recovered);var t=1;for(var n in a)for(console.log(n);t<=a[n].length;t++){var r=a[n][a[n].length-t];if(null!==r[e])return r.date}}},{key:"calculateActiveMetric",value:function(a){return a[F.Confirmed]-a[F.Recovered]}},{key:"getTopChartCountries",value:function(a,e,t,n){var r=this;return Object.keys(a).sort((function(n,i){return e===F.Active?r.calculateActiveMetric(a[i].find((function(a){return a.date===t})))-r.calculateActiveMetric(a[n].find((function(a){return a.date===t}))):a[i].find((function(a){return a.date===t}))[e]-a[n].find((function(a){return a.date===t}))[e]})).slice(0,n)}},{key:"formatDataForChart",value:function(a,e,t,n,r,i){var o=[],c=!0,u=!1,l=void 0;try{for(var s,d=e[Symbol.iterator]();!(c=(s=d.next()).done);c=!0){var h=s.value,m={};m.label=h,m.colour=D[h],m.data=[];for(var E=a[h].findIndex((function(a){return a.date===r})),v=0;v<i;v++){var f=a[h][E-v*n];if(f){var C=void 0;C=t===F.Active?this.calculateActiveMetric(f):f[t],m.data.push({x:new Date(f.date),y:C})}}o.push(m)}}catch(A){u=!0,l=A}finally{try{c||null==d.return||d.return()}finally{if(u)throw l}}return o}}]),a}();var B=function(a){var e=Object(n.useState)(null),t=Object(h.a)(e,2),i=t[0],o=t[1],c=Object(n.useState)(!1),u=Object(h.a)(c,2),l=u[0],F=u[1];return Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getData(s.Top,a.chartMetric,a.chartInterval,10,10);case 2:t=e.sent,o(t),F(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a.chartInterval,a.chartMetric]),r.a.createElement("div",{className:"ChartContainer"},l&&r.a.createElement(f.Chart,{axes:[{primary:!0,type:"time",position:"bottom"},{type:"linear",position:"left"}],data:i,getSeriesStyle:function(a){return{color:a.originalSeries.colour}},tooltip:!0}))};var b=function(){var a=Object(n.useState)(l.Daily),e=Object(h.a)(a,2),t=e[0],i=e[1],o=Object(n.useState)(F.Active),u=Object(h.a)(o,2),s=u[0],d=u[1];function m(a){i(a)}function E(a){d(a)}return r.a.createElement("div",{className:"Main"},r.a.createElement(c.b,{className:"ButtonGroup"},r.a.createElement(c.a,{active:s===F.Active,onClick:function(){return E(F.Active)}},"Active"),r.a.createElement(c.a,{active:s===F.Confirmed,onClick:function(){return E(F.Confirmed)}},"Confirmed"),r.a.createElement(c.a,{active:s===F.Deaths,onClick:function(){return E(F.Deaths)}},"Deaths"),r.a.createElement(c.a,{active:s===F.Recovered,onClick:function(){return E(F.Recovered)}},"Recovered")),r.a.createElement(B,{chartInterval:t,chartMetric:s}),r.a.createElement(c.b,{className:"ButtonGroup"},r.a.createElement(c.a,{active:t===l.Daily,onClick:function(){return m(l.Daily)}},"Daily"),r.a.createElement(c.a,{active:t===l.Weekly,onClick:function(){return m(l.Weekly)}},"Weekly"),new Date>new Date("2020-04-22")&&r.a.createElement(c.a,{active:t===l.Monthly,onClick:function(){return m(l.Monthly)}},"Monthly")))};var y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(130);o.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))},90:function(a,e,t){a.exports=t(131)},95:function(a,e,t){},96:function(a,e,t){}},[[90,1,2]]]);
//# sourceMappingURL=main.76bd43cd.chunk.js.map