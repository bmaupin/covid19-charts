(this["webpackJsonpcovid19-charts"]=this["webpackJsonpcovid19-charts"]||[]).push([[0],{125:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),i=a.n(o),c=(a(98),a(135)),s=a(15);var u,l,p=function(){var e=r.a.createElement("span",{className:"bp3-icon"},r.a.createElement("svg",{height:"24px",width:"24px"},r.a.createElement("path",{d:"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z"})));return r.a.createElement("header",null,r.a.createElement(c.c,{className:"bp3-dark"},r.a.createElement(c.c.Group,{align:s.a.LEFT},r.a.createElement(c.c.Heading,null,"COVID-19 Trends")),r.a.createElement(c.c.Group,{align:s.a.RIGHT},r.a.createElement("a",{href:"https://github.com/bmaupin/covid19-trends"},r.a.createElement(c.a,{className:"bp3-minimal",icon:e})))))},d=a(10),m=(a(125),a(8)),f=a.n(m),h=a(12),v=a(39),y=a(40),b=a(41);!function(e){e.Confirmed="confirmed",e.Deaths="deaths",e.Recovered="recovered"}(u||(u={})),function(e){e[e.Top=0]="Top"}(l||(l={}));var g=function(){function e(){Object(y.a)(this,e)}return Object(b.a)(e,null,[{key:"fetchData",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pomber.github.io/covid19/timeseries.json");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var t=Object(h.a)(f.a.mark((function t(a,n,r,o){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=a,t.next=3;break;case 3:return t.next=5,e.getTopChartData(n,r,o);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}()},{key:"getTopChartData",value:function(){var t=Object(h.a)(f.a.mark((function t(a,n,r){var o,i,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchData();case 2:return o=t.sent,t.next=5,e.getTopChartCountries(o,a,n);case 5:return i=t.sent,c=e.formatDataForChart(o,i,a,r),console.log(o),t.abrupt("return",c);case 9:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}()},{key:"formatDataForChart",value:function(e,t,a,n){var r=[],o=!0,i=!1,c=void 0;try{for(var s,u=t[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var l=s.value,p={};p.label=l,p.data=[];var d=!0,m=!1,f=void 0;try{for(var h,v=e[l].slice(e[l].length-n,e[l].length)[Symbol.iterator]();!(d=(h=v.next()).done);d=!0){var y=h.value;p.data.push({x:new Date(y.date),y:y[a]})}}catch(b){m=!0,f=b}finally{try{d||null==v.return||v.return()}finally{if(m)throw f}}r.push(p)}}catch(b){i=!0,c=b}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}return r}},{key:"getTopChartCountries",value:function(){var e=Object(h.a)(f.a.mark((function e(t,a,n){var r,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.Canada[t.Canada.length-1].date,o=Object.keys(t).sort((function(e,n){return t[n].find((function(e){return e.date===r}))[a]-t[e].find((function(e){return e.date===r}))[a]})),e.abrupt("return",o.slice(0,n));case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),x=a(24),w=a(17),A=a(16),E={elementType:["line","area","bar","bubble"],primaryAxisType:["linear","time","log","ordinal"],secondaryAxisType:["linear","time","log","ordinal"],primaryAxisPosition:["top","left","right","bottom"],secondaryAxisPosition:["top","left","right","bottom"],secondaryAxisStack:[!0,!1],primaryAxisShow:[!0,!1],secondaryAxisShow:[!0,!1],grouping:["single","series","primary","secondary"],tooltipAnchor:["closest","top","bottom","left","right","center","gridTop","gridBottom","gridLeft","gridRight","gridCenter","pointer"],tooltipAlign:["auto","top","bottom","left","right","topLeft","topRight","bottomLeft","bottomRight","center"],snapCursor:[!0,!1]},k=Object.keys(E);function O(e,t,a,n){return Object(x.a)(new Array(t||Math.max(Math.round(5*Math.random()),1))).map((function(t,r){return function(e,t,a,n){var r=new Date;r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0);var o=n;return{label:"Series ".concat(e+1),datums:Object(x.a)(new Array(o)).map((function(e,n){var o=0+n;"ordinal"===t&&(o="Ordinal Group ".concat(o)),"time"===t&&(o=new Date(r.getTime()+18e5*n)),"linear"===t&&(o=Math.random()<0?null:0+Math.round(100*Math.random()));return{x:o,y:Math.random()<0?null:0+Math.round(100*Math.random()),r:a?20-Math.floor(Math.log(Math.random()*(Math.pow(1.1,20)-2)+2)/Math.log(1.1)):void 0}}))}}(r,e,a,n)}))}var C=function(e){var t=Object(n.useState)(null),a=Object(d.a)(t,2),o=a[0],i=a[1],c=Object(n.useState)(!1),s=Object(d.a)(c,2),u=s[0],p=s[1],m=function(e){var t=e.series,a=void 0===t?0:t,n=e.useR,o=void 0!==n&&n,i=e.show,c=void 0===i?[]:i,s=e.count,u=void 0===s?1:s,l=e.resizable,p=void 0===l||l,m=e.canRandomize,f=void 0===m||m,h=e.dataType,v=void 0===h?"time":h,y=e.elementType,b=void 0===y?"line":y,g=e.primaryAxisType,x=void 0===g?"time":g,C=e.secondaryAxisType,j=void 0===C?"linear":C,T=e.primaryAxisPosition,M=void 0===T?"bottom":T,S=e.secondaryAxisPosition,D=void 0===S?"left":S,R=e.primaryAxisStack,z=void 0!==R&&R,N=e.secondaryAxisStack,P=void 0===N||N,G=e.primaryAxisShow,B=void 0===G||G,L=e.secondaryAxisShow,F=void 0===L||L,I=e.tooltipAnchor,H=void 0===I?"closest":I,J=e.tooltipAlign,W=void 0===J?"auto":J,V=e.grouping,$=void 0===V?"primary":V,q=e.snapCursor,K=void 0===q||q,Q=e.datums,U=void 0===Q?10:Q,X=r.a.useState({count:u,resizable:p,canRandomize:f,dataType:v,elementType:b,primaryAxisType:x,secondaryAxisType:j,primaryAxisPosition:M,secondaryAxisPosition:D,primaryAxisStack:z,secondaryAxisStack:P,primaryAxisShow:B,secondaryAxisShow:F,tooltipAnchor:H,tooltipAlign:W,grouping:$,snapCursor:K,datums:U,data:O(v,a,o,U)}),Y=Object(d.a)(X,2),Z=Y[0],_=Y[1];r.a.useEffect((function(){_((function(e){return Object(A.a)({},e,{data:O(v,a,o,U)})}))}),[u,v,U,a,o]);var ee=k.filter((function(e){return c.indexOf(e)>-1})).map((function(e){return r.a.createElement("div",{key:e},e,": \xa0",r.a.createElement("select",{value:Z[e],onChange:function(t){var a=t.target.value;return _((function(t){return Object(A.a)({},t,Object(w.a)({},e,"boolean"===typeof E[e][0]?"true"===a:a))}))}},E[e].map((function(e){return r.a.createElement("option",{value:e,key:e.toString()},e.toString())}))),r.a.createElement("br",null))}));return Object(A.a)({},Z,{randomizeData:function(){return _((function(e){return Object(A.a)({},e,{data:O(v,a,o,U)})}))},Options:ee})}({series:10});return console.log("testData"),console.log(m),Object(n.useEffect)((function(){function t(){return(t=Object(h.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.getData(l.Top,e.chartMetric,10,10);case 2:a=t.sent,i(a),p(!0);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e.chartMetric]),r.a.createElement("div",{style:{width:"800px",height:"600px"}},u&&r.a.createElement(v.Chart,{data:o,axes:[{primary:!0,type:"time",position:"bottom"},{type:"linear",position:"left"}],tooltip:!0}))};var j=function(){var e=Object(n.useState)(u.Confirmed),t=Object(d.a)(e,2),a=t[0],o=t[1];function i(e){o(e)}return r.a.createElement("div",{className:"Main"},r.a.createElement(c.b,{className:"ButtonGroup"},r.a.createElement(c.a,{active:a===u.Confirmed,onClick:function(){return i(u.Confirmed)}},"Confirmed"),r.a.createElement(c.a,{active:a===u.Deaths,onClick:function(){return i(u.Deaths)}},"Deaths"),r.a.createElement(c.a,{active:a===u.Recovered,onClick:function(){return i(u.Recovered)}},"Recovered")),r.a.createElement(C,{chartMetric:a}))};var T=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p,null),r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(131);i.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},93:function(e,t,a){e.exports=a(132)},98:function(e,t,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.ad01ff5e.chunk.js.map