(this["webpackJsonpcovid19-charts"]=this["webpackJsonpcovid19-charts"]||[]).push([[0],{123:function(e,a,t){},129:function(e,a,t){},130:function(e){e.exports=JSON.parse('{"China":"#FF1744","Italy":"#3D5AFE","US":"#1DE9B6","Spain":"#FFEA00","Iran":"#F50057","France":"#2979FF","Switzerland":"#00E676","United Kingdom":"#FFC400","Korea, South":"#D500F9","Netherlands":"#00B0FF","Austria":"#76FF03","Belgium":"#FF9100","Canada":"#651FFF","Norway":"#00E5FF","Portugal":"#C6FF00","Brazil":"#FF3D00","Sweden":"#D50000","Turkey":"#304FFE","Israel":"#00BFA5","Australia":"#FFD600","Denmark":"#C51162","Malaysia":"#2962FF","Czechia":"#00C853","Ireland":"#FFAB00","Luxembourg":"#AA00FF","Japan":"#0091EA","Ecuador":"#64DD17","Chile":"#FF6D00","Pakistan":"#6200EA","Poland":"#00B8D4","Thailand":"#AEEA00","Romania":"#DD2C00","Saudi Arabia":"#FF5252","Finland":"#536DFE","Greece":"#64FFDA","Indonesia":"#FFFF00","Iceland":"#FF4081","Diamond Princess":"#448AFF","South Africa":"#69F0AE","Russia":"#FFD740","India":"#E040FB","Philippines":"#40C4FF","Singapore":"#B2FF59","Qatar":"#FFAB40","Slovenia":"#7C4DFF","Peru":"#18FFFF","Colombia":"#EEFF41","Egypt":"#FF6E40","Panama":"#FF8A80","Croatia":"#8C9EFF","Bahrain":"#A7FFEB","Mexico":"#FFFF8D","Estonia":"#FF80AB","Dominican Republic":"#82B1FF","Argentina":"#B9F6CA","Serbia":"#FFE57F","Iraq":"#EA80FC","Lebanon":"#80D8FF","United Arab Emirates":"#CCFF90","Algeria":"#FFD180","Lithuania":"#B388FF","Armenia":"#84FFFF","Bulgaria":"#F4FF81","Taiwan*":"#FF9E80","Hungary":"#F44336","Morocco":"#3F51B5","Latvia":"#009688","Slovakia":"#FFEB3B","San Marino":"#795548","New Zealand":"#E91E63","Costa Rica":"#2196F3","Kuwait":"#4CAF50","Uruguay":"#FFC107","Andorra":"#9E9E9E","North Macedonia":"#9C27B0","Bosnia and Herzegovina":"#03A9F4","Tunisia":"#8BC34A","Jordan":"#FF9800","Moldova":"#673AB7","Albania":"#00BCD4","Burkina Faso":"#CDDC39","Ukraine":"#FF5722","Vietnam":"#B71C1C","Cyprus":"#1A237E","Malta":"#004D40","Brunei":"#F57F17","Sri Lanka":"#3E2723","Oman":"#880E4F","Senegal":"#0D47A1","Cambodia":"#1B5E20","Azerbaijan":"#FF6F00","Ghana":"#212121","Venezuela":"#4A148C","Belarus":"#01579B","Afghanistan":"#33691E","Kazakhstan":"#E65100","Cote d\'Ivoire":"#311B92","Cameroon":"#006064","Georgia":"#827717","Trinidad and Tobago":"#BF360C","Uzbekistan":"#EF5350","Cuba":"#5C6BC0","Montenegro":"#26A69A","Liechtenstein":"#FFEE58","Nigeria":"#8D6E63","Congo (Kinshasa)":"#EC407A","Mauritius":"#42A5F5","Kyrgyzstan":"#66BB6A","Rwanda":"#FFCA28","Bangladesh":"#BDBDBD","Paraguay":"#AB47BC","Honduras":"#29B6F6","Bolivia":"#9CCC65","Monaco":"#FFA726","Kenya":"#7E57C2","Jamaica":"#26C6DA","Guatemala":"#D4E157","Togo":"#FF7043","Madagascar":"#C62828","Barbados":"#283593","Uganda":"#00695C","Maldives":"#F9A825","Ethiopia":"#4E342E","Tanzania":"#AD1457","Zambia":"#1565C0","Djibouti":"#2E7D32","Mongolia":"#FF8F00","El Salvador":"#424242","Equatorial Guinea":"#6A1B9A","Haiti":"#0277BD","Suriname":"#558B2F","Namibia":"#EF6C00","Niger":"#4527A0","Seychelles":"#00838F","Dominica":"#9E9D24","Benin":"#D84315","Gabon":"#E57373","Bahamas":"#7986CB","Fiji":"#4DB6AC","Guyana":"#FFF176","Mozambique":"#A1887F","Syria":"#F06292","Cabo Verde":"#64B5F6","Congo (Brazzaville)":"#81C784","Eritrea":"#FFD54F","Eswatini":"#E0E0E0","Guinea":"#BA68C8","Holy See":"#4FC3F7","Angola":"#AED581","Antigua and Barbuda":"#FFB74D","Central African Republic":"#9575CD","Chad":"#4DD0E1","Gambia":"#DCE775","Liberia":"#FF8A65","Nepal":"#D32F2F","Saint Lucia":"#303F9F","Sudan":"#00796B","Zimbabwe":"#FBC02D","Laos":"#5D4037","Bhutan":"#C2185B","Mauritania":"#1976D2","Nicaragua":"#388E3C","Germany":"#FFA000","Guinea-Bissau":"#616161","Mali":"#7B1FA2","Saint Kitts and Nevis":"#0288D1","Papua New Guinea":"#689F38","Saint Vincent and the Grenadines":"#F57C00","Somalia":"#512DA8","Grenada":"#0097A7","Timor-Leste":"#AFB42B","Libya":"#E64A19","West Bank and Gaza":"#EF9A9A","Belize":"#9FA8DA","Kosovo":"#80CBC4","Burma":"#FFF59D","Malawi":"#BCAAA4","Botswana":"#F48FB1","Sierra Leone":"#90CAF9","MS Zaandam":"#A5D6A7","Western Sahara":"#FFE082","Burundi":"#EEEEEE","South Sudan":"#CE93D8","Sao Tome and Principe":"#81D4FA","Yemen":"#C5E1A5"}')},132:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(6),c=t.n(i),o=(t(95),t(135)),u=t(15);t(96);var l,F,s,d=function(){var e=r.a.createElement("span",{className:"bp3-icon"},r.a.createElement("svg",null,r.a.createElement("path",{d:"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z"})));return r.a.createElement("header",null,r.a.createElement(o.c,{className:"bp3-dark"},r.a.createElement(o.c.Group,{align:u.a.LEFT},r.a.createElement(o.c.Heading,null,"COVID-19 Trends")),r.a.createElement(o.c.Group,{align:u.a.RIGHT},r.a.createElement("a",{href:"https://github.com/bmaupin/covid19-trends#readme"},r.a.createElement(o.a,{className:"HeaderButton bp3-minimal",icon:"help"})),r.a.createElement("a",{href:"https://github.com/bmaupin/covid19-trends"},r.a.createElement(o.a,{className:"HeaderButton bp3-minimal",icon:e})))))},m=t(13),E=(t(123),t(8)),h=t.n(E),f=t(12),v=t(36),C=(t(129),t(37)),A=t(38),D=t(130);!function(e){e[e.Daily=1]="Daily",e[e.Weekly=7]="Weekly",e[e.Monthly=30]="Monthly"}(l||(l={})),function(e){e.Active="active",e.Confirmed="confirmed",e.Deaths="deaths",e.New="new",e.Recovered="recovered"}(F||(F={})),function(e){e[e.Top=0]="Top"}(s||(s={}));var p=function(){function e(){Object(C.a)(this,e)}return Object(A.a)(e,null,[{key:"getData",value:function(){var e=Object(f.a)(h.a.mark((function e(a,t,n,r,i){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a,e.next=3;break;case 3:return e.next=5,this.getTopChartData(t,n,r,i);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(a,t,n,r,i){return e.apply(this,arguments)}}()},{key:"getTopChartData",value:function(){var e=Object(f.a)(h.a.mark((function e(a,t,n,r){var i,c,o,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchData();case 2:return i=e.sent,c=this.getLatestDateWithData(i,a),o=this.getTopChartCountries(i,a,t,c,n),u=this.formatDataForChart(i,o,a,t,c,r),e.abrupt("return",u);case 7:case"end":return e.stop()}}),e,this)})));return function(a,t,n,r){return e.apply(this,arguments)}}()},{key:"fetchData",value:function(){var e=Object(f.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pomber.github.io/covid19/timeseries.json");case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getLatestDateWithData",value:function(e,a){a===F.Active?a=F.Recovered:a===F.New&&(a=F.Confirmed);var t=1;for(var n in e)for(console.log(n);t<=e[n].length;t++){var r=e[n][e[n].length-t];if(null!==r[a])return r.date}}},{key:"calculateActiveMetric",value:function(e){return e.confirmed-e.recovered}},{key:"calculateNewMetric",value:function(e,a,t,n){var r=0,i=t-1*n;return i>=0&&(r=e[a][i].confirmed),e[a][t].confirmed-r}},{key:"getTopChartCountries",value:function(e,a,t,n,r){var i=this;return Object.keys(e).sort((function(r,c){if(a===F.Active)return i.calculateActiveMetric(e[c].find((function(e){return e.date===n})))-i.calculateActiveMetric(e[r].find((function(e){return e.date===n})));if(a===F.New){var o=e[c].findIndex((function(e){return e.date===n}));return i.calculateNewMetric(e,c,o,t)-i.calculateNewMetric(e,r,o,t)}return e[c].find((function(e){return e.date===n}))[a]-e[r].find((function(e){return e.date===n}))[a]})).slice(0,r)}},{key:"formatDataForChart",value:function(e,a,t,n,r,i){var c=[],o=!0,u=!1,l=void 0;try{for(var s,d=a[Symbol.iterator]();!(o=(s=d.next()).done);o=!0){var m=s.value,E={};E.label=m,E.colour=D[m],E.data=[];for(var h=e[m].findIndex((function(e){return e.date===r})),f=0;f<i;f++){var v=e[m][h-f*n];if(v){var C=void 0;C=t===F.Active?this.calculateActiveMetric(v):t===F.New?this.calculateNewMetric(e,m,h-f*n,n):v[t],E.data.push({x:new Date(v.date),y:C})}}c.push(E)}}catch(A){u=!0,l=A}finally{try{o||null==d.return||d.return()}finally{if(u)throw l}}return c}}]),e}();var B=function(e){var a=Object(n.useState)(null),t=Object(m.a)(a,2),i=t[0],c=t[1],o=Object(n.useState)(!1),u=Object(m.a)(o,2),l=u[0],F=u[1];return Object(n.useEffect)((function(){function a(){return(a=Object(f.a)(h.a.mark((function a(){var t;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.getData(s.Top,e.chartMetric,e.chartInterval,10,10);case 2:t=a.sent,c(t),F(!0);case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[e.chartInterval,e.chartMetric]),r.a.createElement("div",{className:"ChartContainer"},l&&r.a.createElement(v.Chart,{axes:[{primary:!0,type:"time",position:"bottom"},{type:"linear",position:"left"}],data:i,getSeriesStyle:function(e){return{color:e.originalSeries.colour}},tooltip:!0}))};var b=function(){var e=Object(n.useState)(l.Weekly),a=Object(m.a)(e,2),t=a[0],i=a[1],c=Object(n.useState)(F.New),u=Object(m.a)(c,2),s=u[0],d=u[1];function E(e){i(e)}function h(e){d(e)}return r.a.createElement("div",{className:"Main"},r.a.createElement(o.b,{className:"ButtonGroup"},r.a.createElement(o.a,{active:s===F.New,onClick:function(){return h(F.New)}},"New"),r.a.createElement(o.a,{active:s===F.Active,onClick:function(){return h(F.Active)}},"Active"),r.a.createElement(o.a,{active:s===F.Deaths,onClick:function(){return h(F.Deaths)}},"Deaths"),r.a.createElement(o.a,{active:s===F.Recovered,onClick:function(){return h(F.Recovered)}},"Recovered"),r.a.createElement(o.a,{active:s===F.Confirmed,onClick:function(){return h(F.Confirmed)}},"Confirmed")),r.a.createElement(B,{chartInterval:t,chartMetric:s}),r.a.createElement(o.b,{className:"ButtonGroup"},r.a.createElement(o.a,{active:t===l.Daily,onClick:function(){return E(l.Daily)}},"Daily"),r.a.createElement(o.a,{active:t===l.Weekly,onClick:function(){return E(l.Weekly)}},"Weekly"),new Date>new Date("2020-04-22")&&r.a.createElement(o.a,{active:t===l.Monthly,onClick:function(){return E(l.Monthly)}},"Monthly")))};var y=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(131);c.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,a,t){e.exports=t(132)},95:function(e,a,t){},96:function(e,a,t){}},[[90,1,2]]]);
//# sourceMappingURL=main.56397f07.chunk.js.map